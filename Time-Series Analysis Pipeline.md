# ğŸ› ï¸ Time-Series Analysis Pipeline: EDA, Preprocessing & Feature Engineering

Zaman serisi modellemesinde verinin kalitesi ve hazÄ±rlÄ±k aÅŸamasÄ±, model seÃ§iminden daha kritiktir. AÅŸaÄŸÄ±daki tablo, ham veriden model girdisine kadar olan sÃ¼reÃ§te incelenmesi gereken **SorunlarÄ±**, **BileÅŸenleri**, **Ã‡Ã¶zÃ¼m YÃ¶ntemlerini** ve **KullanÄ±lan AraÃ§larÄ±** detaylandÄ±rÄ±r.

| Analiz AlanÄ± (Analysis Area) | Sorunlar & BileÅŸenler (Problems & Components) | Teknik Detay & Ã–nem (Technical Detail & Importance) | Ã‡Ã¶zÃ¼m YÃ¶ntemleri (Solution Methods) | KullanÄ±lan AraÃ§lar & Testler (Tools & Tests) |
| :--- | :--- | :--- | :--- | :--- |
| **1. YapÄ±sal Analiz**<br>*(Structure & Quality)* | **DuraÄŸanlÄ±k (Stationarity)** | Verinin ortalama (*mean*) ve varyansÄ±nÄ±n (*variance*) zamanla deÄŸiÅŸmesi sorunudur. Modeller (ARIMA vb.) geÃ§miÅŸteki istatistiksel daÄŸÄ±lÄ±mÄ±n gelecekte de aynÄ± kalacaÄŸÄ±nÄ± varsayar. | â€¢ **Differencing:** Fark alma ($y_t - y_{t-1}$).<br>â€¢ **Log Transform:** VaryansÄ± sabitlemek (Heteroskedastisiteyi gidermek).<br>â€¢ **Decomposition:** Trendi ayÄ±klamak. | â€¢ **ADF Testi:** $p < 0.05$ ise DuraÄŸan.<br>â€¢ **KPSS Testi:** Trend duraÄŸanlÄ±ÄŸÄ± iÃ§in.<br>â€¢ **Rolling Statistics:** Hareketli ortalama/varyans grafiÄŸi. |
| **2. Veri BÃ¼tÃ¼nlÃ¼ÄŸÃ¼**<br>*(Data Integrity)* | **SÃ¼reklilik & Eksik Veri (Frequency & Missing Values)** | Zaman serisi "EÅŸit AralÄ±k" (*Equidistant*) gerektirir. Eksik tarihler (*Missing Dates*), lag hesaplamalarÄ±nÄ± bozar. Perakendede eksik veri genellikle "0 SatÄ±ÅŸ" anlamÄ±na gelir (*MNAR*). | â€¢ **Reindexing:** Eksik tarihleri araya doldurma.<br>â€¢ **Imputation:** `0` ile doldurma (satÄ±ÅŸ yoksa) veya `Linear Interpolation` (sensÃ¶r verisiyse).<br>â€¢ **Forward Fill (ffill):** Bir Ã¶nceki deÄŸeri taÅŸÄ±ma. | â€¢ `df.asfreq('D')`<br>â€¢ `df.reindex()`<br>â€¢ `df.fillna()`<br>â€¢ `df.interpolate()` |
| **3. AyrÄ±ÅŸtÄ±rma**<br>*(Decomposition)* | **Trend, Mevsimsellik & GÃ¼rÃ¼ltÃ¼** | Sinyali parÃ§alarÄ±na ayÄ±rma iÅŸlemidir.<br>â€¢ **Trend:** Uzun vadeli yÃ¶n.<br>â€¢ **Seasonality:** Sabit periyotlu tekrarlar.<br>â€¢ **Residuals:** AÃ§Ä±klanamayan gÃ¼rÃ¼ltÃ¼. | â€¢ **Additive Model:** $Y = T + S + R$ (Genlik sabitse).<br>â€¢ **Multiplicative Model:** $Y = T \times S \times R$ (Genlik trendle artÄ±yorsa).<br>â€¢ **STL Decomposition:** LOESS tabanlÄ± esnek ayrÄ±ÅŸtÄ±rma. | â€¢ `statsmodels.tsa.seasonal_decompose`<br>â€¢ `STL` (Robust decomposition)<br>â€¢ **ACF / PACF Plot:** Mevsimsel periyodu (Ã¶rn: Lag 7) tespit etmek iÃ§in. |
| **4. Anomali Tespiti**<br>*(Outlier Detection)* | **AykÄ±rÄ± DeÄŸerler (Outliers)** | Beklenen daÄŸÄ±lÄ±mÄ±n dÄ±ÅŸÄ±ndaki uÃ§ deÄŸerler. Modelin Ã¶ÄŸrenme sÃ¼recini (Ã¶zellikle MSE kaybÄ±nÄ±) bozar.<br>â€¢ **Point Anomaly:** Tekil sapma.<br>â€¢ **Contextual:** Zamana gÃ¶re sapma (KÄ±ÅŸÄ±n dondurma satÄ±ÅŸÄ± patlamasÄ±). | â€¢ **Trimming:** Veriyi silme (Veri kaybÄ± riski).<br>â€¢ **Winsorization:** %1 ve %99 persentillerine sabitleme.<br>â€¢ **Imputation:** AykÄ±rÄ± deÄŸeri ortalama ile deÄŸiÅŸtirme. | â€¢ **Z-Score:** $|Z| > 3$<br>â€¢ **IQR Method:** Boxplot analizi.<br>â€¢ **Isolation Forest:** Makine Ã¶ÄŸrenmesi tabanlÄ± tespit.<br>â€¢ **Prophet:** Anomalilere karÅŸÄ± direnÃ§lidir. |
| **5. Feature Engineering**<br>*(Time Features)* | **Takvim Etkisi (Calendar Effects)** | Model ham tarihi ("2023-01-01") anlayamaz. Tarihsel bilginin sinyale dÃ¶nÃ¼ÅŸmesi gerekir.<br>â€¢ **Cyclicality:** AralÄ±k ve Ocak ayÄ±nÄ±n yakÄ±nlÄ±ÄŸÄ±. | â€¢ **Extraction:** YÄ±l, Ay, GÃ¼n, Hafta Sonu Mu?<br>â€¢ **Cyclical Encoding:** Ay ve GÃ¼n bilgisini `SinÃ¼s` ve `KosinÃ¼s` dÃ¶nÃ¼ÅŸÃ¼mÃ¼ ile (x, y) dÃ¼zlemine oturtmak.<br>â€¢ **Event Flagging:** Tatil gÃ¼nlerini `0/1` olarak iÅŸaretlemek. | â€¢ `df.dt.month`, `df.dt.dayofweek`<br>â€¢ `np.sin(2 * np.pi * df.month/12)`<br>â€¢ `holidays` kÃ¼tÃ¼phanesi. |
| **6. Feature Engineering**<br>*(Lag & Window)* | **Gecikme ve Momentum (Lags & Rolling Windows)** | â€¢ **Lag Features:** GeÃ§miÅŸ deÄŸerler ($t-1, t-7$). Otokorelasyonu yakalar.<br>â€¢ **Rolling Window:** Hareketli ortalamalar. GÃ¼rÃ¼ltÃ¼yÃ¼ azaltÄ±r, trendi belirginleÅŸtirir. | â€¢ **Shift:** Veriyi kaydÄ±rma.<br>â€¢ **Rolling Mean:** Son 7 gÃ¼nÃ¼n ortalamasÄ± (Momentum).<br>â€¢ **Rolling Std:** Volatilite (deÄŸiÅŸkenlik) Ã¶lÃ§Ã¼mÃ¼. | â€¢ `df.shift(1)`<br>â€¢ `df.rolling(window=7).mean()`<br>â€¢ `df.rolling(window=30).std()` |
